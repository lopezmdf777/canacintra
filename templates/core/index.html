{% extends 'partials/base.html' %}
{% block title %}Inicio{% endblock %}
{% load static %}

{% block content %}
<div class="container mt-5">
 <div class="row">
  {% for pub in publicaciones %}
   <div class="col-md-3 mb-4">
    <div class="card shadow-sm border-0 w-100 h-100 text-center" style="border-radius: 15px;">
     
     <!-- Imagen cuadrada arriba -->
     {% if pub.foto_portada %}
      <img src="{{ pub.foto_portada.url }}" class="card-img-top" alt="{{ pub.titulo }}" style="height: 200px; object-fit: cover; border-radius: 8px 8px 0 0;">
     {% else %}
      <img src="{% static 'img/placeholder.jpg' %}" class="card-img-top" alt="Sin portada" style="height: 200px; object-fit: cover; border-radius: 8px 8px 0 0;">
     {% endif %}

     <!-- Contenido -->
     <div class="card-body d-flex flex-column">
      <small class="text-muted mb-1">{{ pub.fecha_creacion|date:"M d, Y" }}</small>
      <h6 class="fw-bold" style="color: #e91e63;">{{ pub.titulo|truncatechars:60 }}</h6>
      <a href="{% url 'ver_publicacion' pub.id_publicacion %}" class="mt-auto btn btn-sm text-white" style="background-color: #e91e63;">Leer m√°s</a>
     </div>
     
    </div>
   </div>
  {% empty %}
   <p class="text-muted text-center">No hay publicaciones recientes.</p>
  {% endfor %}
 </div>
</div>
{% endblock %}

