{% extends 'partials/base.html' %}
{% block title %}Resultados de búsqueda{% endblock %}
{% load static %}

{% block content %}
<div class="container mt-5">
 <h3 class="text-center mb-4">Resultados para: <span style="color: #e91e63;">"{{ query }}"</span></h3>

 {% if resultados %}
  <div class="row">
   {% for pub in resultados %}
    <div class="col-md-4 mb-4">
     <div class="card shadow-sm border-0 h-100">
      {% if pub.foto_portada %}
       <img src="{{ pub.foto_portada.url }}" class="card-img-top" alt="Portada" style="height: 200px; object-fit: cover;">
      {% endif %}
      <div class="card-body d-flex flex-column">
       <p class="text-muted mb-1">{{ pub.fecha_creacion|date:"F j, Y" }}</p>
       <h5 class="card-title fw-bold" style="color: #e91e63;">{{ pub.titulo }}</h5>
       <p class="card-text">{{ pub.resumen|truncatechars:100 }}</p>
       <a href="{% url 'ver_publicacion' pub.id_publicacion %}" class="btn btn-sm mt-auto text-white" style="background-color: #e91e63;">Leer más</a>
      </div>
     </div>
    </div>
   {% endfor %}
  </div>
 {% else %}
  <p class="text-center text-muted">No se encontraron publicaciones con ese título.</p>
 {% endif %}
</div>
{% endblock %}

